<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="add.css">
    <title>Add request</title>
</head>
<header>
    <nav>
        <div class="first in">
            <a href="notes.html">Notes Inn</a>
        </div>
        <div class="first out">
            <p>Add Requests</p>
        </div>
        <div class="first">
            <button id="archive">Archive</button>
        </div>
<!--        <div class="account">-->
<!--            <button>Logout</button>-->
<!--            <img src="images/hesam-jr-GN7stBKmiak-unsplash.jpg" alt="" width="45px" height="45px"/>-->
<!--        </div>-->
    </nav>
</header>
<body>
<div class="req">
    <form id="myscript">
        <input type="text" id="task" name="task" placeholder="task"><br><br>
        <input type="text" id="completed" name="completed" placeholder="Completed"><br><br>
        <input type="text" id="archives" name="archive" placeholder="Archive"><br><br>
        <input type="submit" value="Submit">
    </form>
</div>
<script>
    const form = document.getElementById("myscript");
    form.addEventListener("submit",function(event){
        event.preventDefault()
        alert("form is submitted")
        const task = document.getElementById("task").value;
        const completed = document.getElementById("completed").value;
        const archive = document.getElementById("archives").value;


        console.log(task);

        fetch('http://localhost:4000/task',{
            method: 'POST',
            headers: {'content-type': 'application/json'},
            body: JSON.stringify({
                task,
                completed,
                archive
            })
        }).then((e) => {
            alert('form was submitted')
        }).catch(() => alert('form was not submitted'))
    });
</script>
</body>
</html>